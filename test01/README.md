# JSP/Servletとはなにか

- ## 静的Webページと動的Webページ
    ホームページは基本的にHTMLで記述されている。
    ただ、原理的にHTMLはマークアップ言語で、ホームページの構造を記述することはできるものの、Web上で動くアプリを作ることはできない。
    
    動きのないWebページのものを静的Webページという。
    メールの受信ができたり、電車やバスを利用する際の乗り換え地点や移動にかかる時間を調べられたりと、あたかもアプリケーションのような働きをしている。

    このようなWebページのことを、動きのあるWebページということで、動的Webページと呼ぶ。
    JSPとサーブレットは、HTMLにJavaを組み込むことにより、動的Webページを生成することができる。

    1.静的なWebページの仕組み
    ```
        +--------+                              +---------------+
        |        |---(A)----- Request  -------->|               |
        | Client |                              |  Web Server   |
        |        |<--(B)----- Response ---------|               |
        +--------+                              +---------------+
    
        (A):スマホやパソコンとか
        (B):HTMLとか
    ```


- ## 動的Webページの仕組み
    通常、Webページはインターネットを介してWebサーバーにWebページの要求（リクエスト）を送る。
    すると、それを受け取ったWebブラウザは、その内容を表示する。

    これに対し、動的Webページは、リクエストがWebサーバーに送られるまでは同じだが、そのリクエストをもとにサーバー上でアプリが起動し、データベースへのアクセスといった処理を行い、結果をHTMLという形でレスポンスする。

    つまり動的なWebページでは、ページを操作しているユーザーの条件次第でサーバーがその条件に合った処理を行い、その処理結果をもとに生成されたWebページが表示される。
    そのため、ユーザーの指定する条件により内容が変わる点が静的なWebページと大きく異なる。

    2.動的なWebページの仕組み
    ```
        +--------+                          +---------------+           
        |        |---(A)--- Request  ------>|               |             +---------------+
        | Client |                          |  Web Server   |<----(C)---->|   database    |
        |        |<--(B)--- Response -------|               |             +---------------+
        +--------+                          +---------------+
    
        (A):スマホやパソコンとかが画面を見せろと要求
        (B):HTMLとかを送信
        (C):データベースで操作したり、値を返したりとかする

        Web Server:(A)のリクエストに応じHTML生成
    ```
    

- ## JSP/Servletの仕組み
    - 一週間で身につくJSP/Servlet <br>
    [http://web.sevendays-study.com/JSPServlet/day0.html]<br>
    
    JSPとはJavaServerPagesの略で、Java言語を利用してアプリケーションサーバーで動的なWebページを生成し、利用者側に送信し表示させる技術。
    HTMLファイルの中に、Javaのコードを埋め込んでJavaの処理が可能になる仕組みがJSP。

    Javaの実行した処理結果をHTMLとして出力するさせることができ、クライアント側（ユーザー）のリクエスト（要求）に応じた動的なWebページを生成しレスポンス（応答）することが可能になる。

    それに対して、サーブレットとは、Web上で実行されるJavaプログラムのこと。
    このJSPとサーブレットの組み合わせによりWebアプリが構成されている。
    また、JSPを実行するには、Webサーバーとは別に、アプリケーションサーバーと呼ばれるサーバーが必要。
    これは、アプリケーションソフトウェアを実行するサーバーコンピュータやクライアント側とサーバー側の中間に入るソフトウェアのことを指す。
    Webサーバーと連携することにより、Web上でアプリを動作させることを可能にしている。

    - 【初心者向け】サーブレットとJSPの違いをわかりやすく解説！<br>
    [https://ryonotes.com/difference-between-servlet-and-jsp/]<br>
    ```

                                           Presentation 
                                               Layer
                                         +-Web Container-+
                                         |               |
        +---Client ---+                  |  +----------+ |
        |   Request   |---- Request  --->|  |Controller| |
        |    Page     |                  |  | [Servlet]| |
        +-------------+                  |  +----|-----+ |
                                         |       |       |
                                         | View  ↓       |
        +---Client ---+                  |  +----------+ |
        |    Result   |<--- Response ----|  |    JSP   | |
        |    Page     |                  |  +----------+ |
        +-------------+                  +---------------+


    ```
